@section Scripts{
    <link href="~/Content/corso.css" rel="stylesheet" />
}
@{
    ViewBag.Title = "Lista Lezioni";
}
    <style>
        #myIscriviti {
            position: fixed;
            bottom: 260px;
            left: 10px;
            z-index: 99;
            border: none;
            background-color: white;
            color: Black;
            cursor: pointer;
            padding: 15px;
            border-radius: 10px;
            font-size: 15px;
        }

        #myLezione {
            position: fixed;
            bottom: 210px;
            left: 10px;
            z-index: 99;
            border: none;
            background-color: white;
            color: Black;
            cursor: pointer;
            padding: 15px;
            border-radius: 10px;
            font-size: 15px;
        }
        #myElencoCorsi {
            position: fixed;
            bottom: 310px;
            left: 10px;
            z-index: 99;
            border: none;
            background-color: white;
            color: Black;
            cursor: pointer;
            padding: 15px;
            border-radius: 10px;
            font-size: 15px;
        }
    </style>


    <body>
        <h1 class="display-3" style="text-align:center;">Lista Lezioni</h1>  <!--ho mostrato il titolo-->
        <div class="text-warning">
            <h4><b>@ViewBag.Message</b></h4> <!--ho mostrato un errore-->
        </div>

        <div class="container">
            <table class="table table-striped" style="width:auto;">
                <thead>
                    <tr>
                        <th scope="col">ID</th>
                        <th scope="col">Corso</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <th scope="row">@ViewBag.Corso.Id</th>
                        <td>@ViewBag.Corso.Descrizione</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <!--ho mostrato un errore-->
        <div class="corso_descrizione">@ViewBag.Corso.Descrizione</div>
        <div class="corso_id">Numero corso: @ViewBag.Corso.Id</div>
        @if(ViewBag.Lezioni!=null && ViewBag.Lezioni.Count>0){
        <p class="Elenco_Lezioni">Elenco lezioni:</p>
        <div class="container">
            <table class="table table-striped table-bordered">
                <thead>
                    <tr>
                        <th scope="col">ID</th>
                        <th scope="col">Nome</th>
                        <th scope="col">Descrizione</th>
                        <th scope="col">Durata</th>
                        <th scope="col">Modifica</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach(var lezioni in ViewBag.Lezioni) {
                    <tr>
                        <th scope="row">  @lezioni.Id</th>
                        <td>@lezioni.Nome</td>
                        <td>@lezioni.Descrizione</td>
                        <td>@lezioni.Durata</td>
                        <td> <button class="btn btn-default">  @Html.ActionLink("Modifica", "ModificaLezione", new { nomeLezione = lezioni.Nome, descrizioneLezione = lezioni.Descrizione, durataLezione = lezioni.Durata, idLezione = lezioni.Id, id = ViewBag.Corso.Id }) </button></td>
                    </tr>
                    }
                </tbody>
            </table>
        </div>
        }

        <button id="myIscriviti" style="position: fixed;" title="Iscriviti" href='@Url.Action("Iscriviti","Iscrizione",new { idCorso = ViewBag.Corso.Id },"prova")'><span class="glyphicon glyphicon-ok-circle"></span></button>
        <button id="myLezione" style="position: fixed;" title="Aggiungi Lezione" href='@Url.Action("AddLezione","Home",new { idCorso = ViewBag.Corso.Id })'><span class="glyphicon glyphicon-plus"></span></button>
        <button id="myElencoCorsi" style="position: fixed;" title="Elenco Corsi" href="/Home/ElencoCorsi"><span class="glyphicon glyphicon-list"></span></button>



        <script>
            window.onscroll = function () { scrollFunction() };

            function scrollFunction() {
                if (document.body.scrollTop > 0 || document.documentElement.scrollTop > 0) {
                    document.getElementById("myElencoCorsi").style.display = "block";
                } else {
                    document.getElementById("myElencoCorsi").style.display = "none";
                }
            }

            function scrollFunction() {
                if (document.body.scrollTop > 0 || document.documentElement.scrollTop > 0) {
                    document.getElementById("myAddLezione").style.display = "block";
                } else {
                    document.getElementById("myAddLezione").style.display = "none";
                }
            }

            function scrollFunction() {
                if (document.body.scrollTop > 0 || document.documentElement.scrollTop > 0) {
                    document.getElementById("myIscriviti").style.display = "block";
                } else {
                    document.getElementById("myIscriviti").style.display = "none";
                }
            }



        </script>
    </body>