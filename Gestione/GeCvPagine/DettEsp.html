<!DOCTYPE html>
<html>
<head>
    <script src="http://code.jquery.com/jquery-3.3.1.min.js"
            integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
            crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

    <script>
        var uri = '../api/CV/EEEE/EspLav';
        $(document).on(function () {
            LoadEspLav(idEspLav);
        });
        function LoadEspLav(idEspLav) {
            $("#AddE").hide();
            $.getJSON(uri + '/' + idEspLav)
                .done(function (data) {
                    $('#DettEsp').html(
                        '<div class="container">' +
                        '<div class="row">' +
                        '<div class="col-md-3">Inizio</div>' +
                        '<div class="col-md-3"><input type="number" id="ai" class="form-control" name="_inizio" value="' + data.AnnoInizio + '" /></div>' +
                        '<div class="col-md-3">Fine</div>' +
                        '<div class="col-md-3"><input type="number" id="af" class="form-control" name="_fine" value="' + data.AnnoFine + '" /></div></div>' +
                        '<div class="row">' +
                        '<div class="col-md-3">Qualifica</div>' +
                        '<div class="col-md-3"><input type="text" id="qua" class="form-control" name="_qualifica" value="' + data.Qualifica + '" /></div>' +
                        '<div class="col-md-3">Descrizione</div>' +
                        '<div class="col-md-3"><input type="text" id="desc" class="form-control" name="_desricione" value="' + data.Descrizione + '" /></div></div></div>' +
                        '<button class="btn btn-default" onclick="DelEsp(' + data.Id + ')"role=button>Elimina</button>' + '</div>' + '<div>' +
                        '<button class="btn btn-default" onclick="ModEsp(' + data.Id + ')"role=button>Modifica</button>' + '</div>' + '<div>'
                    );
                    ListEspLav();
                });
        }
        function DelEsp(id) {
            $.ajax({
                url: '../api/CV/EEEE/EspLav/' + id,
                type: 'DELETE',
                success: function (result) {
                    $('#DettEsp').hide(),
                    ListEspLav()
                },
            });
        }
        function ModEsp(id) {
            var esp = {};
            esp.AnnoInizio = $("#ai").val();
            esp.AnnoFine = $('#af').val();
            esp.Qualifica = $('#qua').val();
            esp.Descrizione = $('#desc').val();
            $.ajax({
                data: esp,
                dataType: "application/json",
                url: '../api/CV/EEEE/EspLav/' + id,
                type: 'PUT',
                success: function (result) {
                    $('#DettEsp').hide(),
                        ListEspLav()
                },
            });
        }
    </script>
</head>
<body>
    <div id="DettEsp"></div>
</body>
</html>